<head>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/4.11.0/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>

    <script src="//unpkg.com/d3-geo-zoom"></script>

    <style>body { margin: 0 }</style>
</head>

<body>
    <div id="world"></div>

    <script>
        const width = window.innerWidth;
        const height = window.innerHeight;

        const svg = d3.select('#world').append('svg')
                .attr('width', width)
                .attr('height', height);

        const projection = d3.geoOrthographic()
                .scale((height - 10) / 2)
                .translate([width / 2, height / 2])
                .precision(0.1);

        const path = d3.geoPath()
                .projection(projection);

        d3.json('//unpkg.com/world-atlas@1/world/110m.json', world => {
            const sphere = { type: 'Sphere' };
            const land = topojson.feature(world, world.objects.land);

            const spherePath = svg.append('path').attr('fill', 'aqua');
            const landPath = svg.append('path').attr('fill', 'maroon');

            render();

            d3.geoZoom()
                .projection(projection)
                .onChange(render)
                (svg.node());

            function render() {
                spherePath.attr('d', path(sphere));
                landPath.attr('d', path(land));
            }
        });
    </script>
</body>